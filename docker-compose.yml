services:
  rimu-world:
    build: .
    ports:
      - "8000:8000"
    volumes:
      - uploads:/app/static/uploads     # Named volume (more reliable)
      - rimu_db:/app/data               # Named volume (DB safe)
    environment:
      - ADMIN_USERNAME=rimu_admin
      - ADMIN_PASSWORD=rimu2024secure
    restart: unless-stopped
    # Optional: healthcheck, depends_on, etc.

volumes:
  uploads:      # Persistent uploads
  rimu_db:      # Persistent DB